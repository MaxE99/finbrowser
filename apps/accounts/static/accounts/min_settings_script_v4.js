function checkSocialLogos(){let a=Array.from(document.querySelectorAll(".existingSocialContainer img"),a=>a.className);document.querySelectorAll(".addSocialLinksContainer img").forEach(b=>{a.includes(b.className)?b.parentElement.style.display="none":b.parentElement.style.display="flex"})}checkSocialLogos();const categoryTabs=document.querySelectorAll(".settingOption"),tabsContent=document.querySelectorAll(".tabsContent");async function deleteSocialLinks(a){let b=a.target.parentElement;if(b.remove(),!b.classList.contains("newlyAdded")){let d=a.target.id.split("#")[1];try{let c=await fetch(`../../api/social_links/${d}/`,get_fetch_settings("DELETE"));if(c.ok){let e=await c.json();showMessage(e,"Remove")}else showMessage("Error: Link couldn't be deleted!","Error")}catch(f){}}}categoryTabs.forEach(a=>{a.addEventListener("click",()=>{for(let b=0,c=categoryTabs.length;b<c;b++)categoryTabs[b].classList.remove("activeSettingOption"),tabsContent[b].classList.remove("tabsContentActive");categoryTabs[a.dataset.forTab].classList.add("activeSettingOption"),tabsContent[a.dataset.forTab].classList.add("tabsContentActive")})}),document.querySelector("summary").addEventListener("click",checkSocialLogos),document.querySelectorAll(".selectContainer ul li").forEach(a=>{a.addEventListener("click",()=>{document.querySelector("summary").innerHTML=a.innerHTML,document.querySelector("details").removeAttribute("open")})}),document.querySelector(".removeProfilePicButton").addEventListener("click",async()=>{let b=document.querySelector(".emailContainer").id.split("#")[1];try{let a=await fetch(`../../api/profiles/${b}/profile_pic_delete/`,get_fetch_settings("DELETE"));if(a.ok){let c=await a.json();showMessage(c,"Remove"),window.location.reload()}else showMessage("Error: Profile picture could not be deleted!","Error")}catch(d){}});const addSocialLinkButton=document.querySelector(".addSocialLinkButton");addSocialLinkButton.addEventListener("click",async()=>{let b=addSocialLinkButton.parentElement.querySelector("input").value;if(null!=addSocialLinkButton.parentElement.querySelector("summary img")&&""!=b){let g=addSocialLinkButton.parentElement.querySelector("summary img").src,h=addSocialLinkButton.parentElement.querySelector("summary img").id.split("#")[1],c=document.createElement("div");c.classList.add("existingSocialContainer","newlyAdded");let e=document.createElement("img");e.src=g;let d=document.createElement("input");d.type="text",d.value=b;let a=document.createElement("button");a.type="button",a.classList.add("removeSocialLinkButton"),a.innerText="Remove",a.addEventListener("click",deleteSocialLinks),c.append(e,d,a),addSocialLinkButton.parentElement.parentElement.insertBefore(c,addSocialLinkButton.parentElement),document.querySelector(".selectContainer summary").innerHTML='<i class="fa fa-caret-down"></i>',document.querySelector(".linkInput").value="";try{let k={website:h,url:b},f=await fetch("../../api/social_links/",{method:"POST",headers:{"X-CSRFToken":getCookie("csrftoken"),Accept:"application/json","Content-Type":"application/json"},mode:"same-origin",body:JSON.stringify(k)});if(f.ok){let l=await f.json();showMessage(l,"Success"),window.location.reload()}else showMessage("Error: Network request failed unexpectedly!","Error")}catch(m){}}}),document.querySelectorAll(".removeSocialLinkButton").forEach(a=>{a.addEventListener("click",deleteSocialLinks)});let socialLinkInitialUrls=[];const socialLinkInput=document.querySelectorAll(".existingSocialContainer input");for(let i=0,j=socialLinkInput.length;i<j;i++)socialLinkInitialUrls.push(socialLinkInput[i].value),socialLinkInput[i].addEventListener("keyup",()=>{socialLinkInput[i].value!=socialLinkInitialUrls[i]?(socialLinkInput[i].nextElementSibling.style.display="none",socialLinkInput[i].nextElementSibling.nextElementSibling.style.display="block"):(socialLinkInput[i].nextElementSibling.style.display="block",socialLinkInput[i].nextElementSibling.nextElementSibling.style.display="none")});document.querySelectorAll(".saveSocialLinkChanges").forEach(a=>{a.addEventListener("click",async()=>{let c=a.previousElementSibling.id.split("#")[1],d=a.parentElement.querySelector("img").id.split("#")[1],e=a.parentElement.querySelector("input").value;try{let f={website:d,url:e},b=await fetch(`../../api/social_links/${c}/`,{method:"PUT",headers:{"X-CSRFToken":getCookie("csrftoken"),Accept:"application/json","Content-Type":"application/json"},mode:"same-origin",body:JSON.stringify(f)});if(b.ok){let g=await b.json();showMessage(g,"Success"),window.location.reload()}else showMessage("Error: Network request failed unexpectedly!","Error")}catch(h){}})}),document.querySelectorAll(".iconContainer .fa-trash").forEach(a=>{a.addEventListener("click",async()=>{try{let b=a.id.split("#")[1],c=await fetch(`../../api/notifications/${b}/`,get_fetch_settings("DELETE"));c.ok?(a.parentElement.parentElement.remove(),showMessage("Notification has been deleted!","Remove")):showMessage("Error: Network request failed unexpectedly!","Error")}catch(d){}})})