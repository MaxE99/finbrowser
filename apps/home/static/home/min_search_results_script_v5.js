document.querySelector(".searchWrapper #mainAutocomplete").addEventListener("keyup",async function(e){let s=document.querySelector(".searchWrapper #mainAutocomplete").value;if("Enter"==e.key&&""!=s.replaceAll(/\s/g,""))window.location.href=`../../search_results/${s}`;else{let a=document.querySelector(".searchWrapper #autocomplete_list_results");if(s&&""!=s.replaceAll(/\s/g,"")){try{let r=await fetch(`../../api/search_site/${s}`,get_fetch_settings("GET"));if(r.ok){let t=await r.json();if(a.style.display="flex",a.innerHTML="",t[0].length>0&&(a.innerHTML+='<div class="searchResultHeader">Stocks</div>',t[0].forEach(e=>{let s=`<div class="searchResult"><div class="stockContainer"><div class="stockTicker">${e.ticker}</div><div class="companyName">${e.full_company_name}</div><a href="../../../../../../stock/${e.ticker}"></a></div></div>`;a.innerHTML+=s})),t[1].length>0&&(a.innerHTML+='<div class="searchResultHeader">Sources</div>',t[1].forEach(e=>{let s=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${e.favicon_path}"><span>${e.name}</span><a href="../../source/${e.slug}"></a></div>`;a.innerHTML+=s})),t[2].length>0){a.innerHTML+='<div class="searchResultHeader">Articles</div>';for(let l=0,c=t[2].length;l<c;l++){let i=t[3][l],n=t[2][l].title,o=t[2][l].link,p=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${i}"><span>${n}</span><a href="${o}"></a></div>`;a.innerHTML+=p}}}else showMessage("Error: Network request failed unexpectedly!!","Error")}catch(u){}document.onclick=function(e){"autocomplete_list_results"!==e.target.id&&(a.style.display="none")}}else a.style.display="none"}}),document.querySelector(".searchWrapper .mainSearchContainer i").addEventListener("click",()=>{""!=(search_term=document.querySelector(".searchWrapper .mainInputSearch").value).replaceAll(/\s/g,"")&&(window.location.href=`../../search_results/${search_term}`)});