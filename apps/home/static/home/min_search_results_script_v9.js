if(location.href.includes("?commentary=")){let e=document.querySelectorAll(".pageWrapper .tabsContainer button"),t=document.querySelectorAll(".pageWrapper .tabsContent");for(let s=0,a=e.length;s<a;s++)e[s].classList.remove("activatedTab"),t[s].classList.remove("tabsContentActive");e[1].classList.add("activatedTab"),t[1].classList.add("tabsContentActive")}if(location.href.includes("?news=")){let r=document.querySelectorAll(".pageWrapper .tabsContainer button"),l=document.querySelectorAll(".pageWrapper .tabsContent");for(let i=0,c=r.length;i<c;i++)r[i].classList.remove("activatedTab"),l[i].classList.remove("tabsContentActive");r[2].classList.add("activatedTab"),l[2].classList.add("tabsContentActive")}document.querySelector(".searchWrapper #searchResultsAutocomplete").addEventListener("keyup",async function(e){let t=document.querySelector(".searchWrapper #searchResultsAutocomplete").value;if("Enter"==e.key&&""!=t.split(/\s+/).join(""))window.location.href=`../../search_results/${t}`;else{let s=document.querySelector(".searchWrapper #autocomplete_list_results");if(t&&""!=t.split(/\s+/).join("")){try{let a=await fetch(`../../api/search_site/${t}`,get_fetch_settings("GET"));if(a.ok){let r=await a.json();if(s.style.display="flex",s.innerHTML="",r[0].length>0&&(s.innerHTML+='<div class="searchResultHeader">Stocks</div>',r[0].forEach(e=>{let t=`<div class="searchResult"><div class="stockContainer"><div class="stockTicker">${e.ticker}</div><div class="companyName">${e.full_company_name}</div><a href="../../../../../../stock/${e.ticker}"></a></div></div>`;s.innerHTML+=t})),r[1].length>0&&(s.innerHTML+='<div class="searchResultHeader">Sources</div>',r[1].forEach(e=>{let t=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${e.favicon_path}"><span>${e.name}</span><a href="../../source/${e.slug}"></a></div>`;s.innerHTML+=t})),r[2].length>0){s.innerHTML+='<div class="searchResultHeader">Articles</div>';for(let l=0,i=r[2].length;l<i;l++){let c=r[2][l].source.favicon_path,n=r[2][l].title,o=r[2][l].link,p=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${c}"><span>${n}</span><a href="${o}" target="_blank"></a></div>`;s.innerHTML+=p}}}else showMessage("Error: Network request failed unexpectedly!!","Error")}catch(d){}document.onclick=function(e){"autocomplete_list_results"!==e.target.id&&(s.style.display="none")}}else s.style.display="none"}}),document.querySelector(".searchWrapper .mainSearchContainer i").addEventListener("click",()=>{""!=(search_term=document.querySelector(".searchWrapper .mainInputSearch").value).split(/\s+/).join("")&&(window.location.href=`../../search_results/${search_term}`)});
