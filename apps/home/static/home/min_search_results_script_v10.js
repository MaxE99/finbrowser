if(location.href.includes("?commentary=")){let e=document.querySelectorAll(".pageWrapper .tabsContainer button"),t=document.querySelectorAll(".pageWrapper .tabsContent");for(let a=0,s=e.length;a<s;a++)e[a].classList.remove("activatedTab"),t[a].classList.remove("tabsContentActive");e[1].classList.add("activatedTab"),t[1].classList.add("tabsContentActive")}if(location.href.includes("?news=")){let r=document.querySelectorAll(".pageWrapper .tabsContainer button"),l=document.querySelectorAll(".pageWrapper .tabsContent");for(let c=0,i=r.length;c<i;c++)r[c].classList.remove("activatedTab"),l[c].classList.remove("tabsContentActive");r[2].classList.add("activatedTab"),l[2].classList.add("tabsContentActive")}let largeSearchDelayTimer;document.querySelector(".searchWrapper #searchResultsAutocomplete").addEventListener("keyup",async function(e){let t=document.querySelector(".searchWrapper #searchResultsAutocomplete").value;if("Enter"==e.key&&""!=t.split(/\s+/).join(""))window.location.href=`../../search_results/${t}`;else{let a=document.querySelector(".searchWrapper #autocomplete_list_results");t&&""!=t.split(/\s+/).join("")?(clearTimeout(largeSearchDelayTimer),largeSearchDelayTimer=setTimeout(async function(){if(document.querySelector(".searchWrapper #searchResultsAutocomplete").value)try{let e=await fetch(`../../api/search_site/${t}`,get_fetch_settings("GET"));if(e.ok){let s=await e.json();if(a.style.display="flex",a.innerHTML="",s[0].length>0&&(a.innerHTML+='<div class="searchResultHeader">Stocks</div>',s[0].forEach(e=>{let t=`<div class="searchResult"><div class="stockContainer"><div class="stockTicker">${e.ticker}</div><div class="companyName">${e.full_company_name}</div><a href="../../../../../../stock/${e.ticker}"></a></div></div>`;a.innerHTML+=t})),s[1].length>0&&(a.innerHTML+='<div class="searchResultHeader">Sources</div>',s[1].forEach(e=>{let t=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${e.favicon_path}"><span>${e.name}</span><a href="../../source/${e.slug}"></a></div>`;a.innerHTML+=t})),s[2].length>0){a.innerHTML+='<div class="searchResultHeader">Articles</div>';for(let r=0,l=s[2].length;r<l;r++){let c=s[2][r].source.favicon_path,i=s[2][r].title,n=s[2][r].link,o=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${c}"><span>${i}</span><a href="${n}" target="_blank"></a></div>`;a.innerHTML+=o}}}else showMessage("Error: Network request failed unexpectedly!!","Error")}catch(p){}},350),document.onclick=function(e){"autocomplete_list_results"!==e.target.id&&(a.style.display="none")}):a.style.display="none"}}),document.querySelector(".searchWrapper .mainSearchContainer i").addEventListener("click",()=>{""!=(search_term=document.querySelector(".searchWrapper .mainInputSearch").value).split(/\s+/).join("")&&(window.location.href=`../../search_results/${search_term}`)});
