async function searchSP(e,r){try{let a=await fetch(`../../api/search_site/${e}`,getFetchSettings("GET"));if(a.ok){let t=await a.json();showSearchResults(t,r)}else showMessage("Error: Network request failed unexpectedly!!","Error")}catch(s){showMessage("Error: Unexpected error has occurred!","Error")}}function searchWithSearchSymbol(){let e=document.querySelector(".searchWrapper .mainInputSearch").value;""!=e.split(/\s+/).join("")&&(window.location.href=`../../search_results/${e}`)}function searchSPWrapper(e){let r=document.querySelector(".searchWrapper #searchResultsAutocomplete").value;if("Enter"==e&&""!=r.split(/\s+/).join(""))window.location.href=`../../search_results/${r}`;else{let a=document.querySelector(".searchWrapper #autocomplete_list_results");""!=r?.split(/\s+/).join("")?(clearTimeout(searchDelayTimerSP),searchDelayTimerSP=setTimeout(async function(){document.querySelector(".searchWrapper #searchResultsAutocomplete").value&&searchSP(r,a)},350),document.onclick=e=>{"autocomplete_list_results"!==e.target.id&&(a.style.display="none")}):a.style.display="none"}}function changeTabsOnPageOpen(e){let r=document.querySelectorAll(".pageWrapper .tabsContainer button"),a=document.querySelectorAll(".pageWrapper .tabsContent");for(let t=0,s=r.length;t<s;t++)r[t].classList.remove("activatedTab"),a[t].classList.remove("tabsContentActive");r[e].classList.add("activatedTab"),a[e].classList.add("tabsContentActive")}location.href.includes("?commentary=")&&changeTabsOnPageOpen(1),location.href.includes("?news=")&&changeTabsOnPageOpen(2);let searchDelayTimerSP;document.querySelector(".searchWrapper #searchResultsAutocomplete").addEventListener("keyup",e=>searchSPWrapper(e.key)),document.querySelector(".searchWrapper .mainSearchContainer i").addEventListener("click",()=>searchWithSearchSymbol());