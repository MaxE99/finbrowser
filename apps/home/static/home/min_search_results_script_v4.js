const categoryTabs=document.querySelectorAll(".searchCategoryTab"),tabsContent=document.querySelectorAll(".tabsContent");categoryTabs.forEach(a=>{a.addEventListener("click",()=>{for(let b=0,c=categoryTabs.length;b<c;b++)categoryTabs[b].classList.remove("searchCategoryTabActive"),tabsContent[b].classList.remove("tabsContentActive");categoryTabs[a.dataset.forTab].classList.add("searchCategoryTabActive"),tabsContent[a.dataset.forTab].classList.add("tabsContentActive")})}),document.querySelector(".searchWrapper #mainAutocomplete").addEventListener("keyup",async function(f){let c=document.querySelector(".searchWrapper #mainAutocomplete").value;if("Enter"==f.key&&""!=c.replaceAll(/\s/g,""))window.location.href=`../../search_results/${c}`;else{let b=document.querySelector(".searchWrapper #autocomplete_list_results");if(c&&""!=c.replaceAll(/\s/g,"")){try{let e=await fetch(`../../api/search_site/${c}`,get_fetch_settings("GET"));if(e.ok){let a=await e.json();if(b.style.display="flex",b.innerHTML="",a[0].length>0&&(b.innerHTML+='<div class="searchResultHeader">Stocks</div>',a[0].forEach(a=>{let c=`<div class="searchResult"><div class="stockContainer"><div class="stockTicker">${a.ticker}</div><div class="companyName">${a.full_company_name}</div><a href="../../../../../../stock/${a.ticker}"></a></div></div>`;b.innerHTML+=c})),a[1].length>0&&(b.innerHTML+='<div class="searchResultHeader">Sources</div>',a[1].forEach(a=>{let c=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${a.favicon_path}"><span>${a.name}</span><a href="../../source/${a.slug}"></a></div>`;b.innerHTML+=c})),a[2].length>0){b.innerHTML+='<div class="searchResultHeader">Articles</div>';for(let d=0,g=a[2].length;d<g;d++){let h=a[3][d],i=a[2][d].title,j=a[2][d].link,k=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${h}"><span>${i}</span><a href="${j}"></a></div>`;b.innerHTML+=k}}}else showMessage("Error: Network request failed unexpectedly!!","Error")}catch(l){}document.onclick=function(a){"autocomplete_list_results"!==a.target.id&&(b.style.display="none")}}else b.style.display="none"}}),document.querySelector(".searchWrapper .mainSearchContainer i").addEventListener("click",()=>{""!=(search_term=document.querySelector(".searchWrapper .mainInputSearch").value).replaceAll(/\s/g,"")&&(window.location.href=`../../search_results/${search_term}`)})