if(sessionStorage.getItem("articleSearchSettings")){let e=JSON.parse(sessionStorage.getItem("articleSearchSettings"));document.getElementById("timeframe").value=e[0],document.getElementById("sector").value=e[1],document.getElementById("paywall").value=e[2],document.getElementById("source").value=e[3],sessionStorage.removeItem("articleSearchSettings")}document.querySelector(".searchButton").addEventListener("click",async()=>{let e=document.getElementById("timeframe"),t=e.options[e.selectedIndex].value,l=document.getElementById("sector"),s=l.options[l.selectedIndex].value,a=document.getElementById("paywall"),n=a.options[a.selectedIndex].value,r=document.getElementById("source"),i=r.options[r.selectedIndex].value,c=[t,s,n,i];sessionStorage.setItem("articleSearchSettings",JSON.stringify(c)),window.location=`../../../../../../content/${t}/${s}/${n}/${i}`}),document.querySelector(".filterButton").addEventListener("click",()=>{let e=document.querySelector(".filterBarMenu");"flex"==e.style.display?e.style.display="none":e.style.display="flex"}),document.getElementById("search").addEventListener("keyup",async function(e){let t=document.getElementById("search").value;if("Enter"==e.key&&""!=t.replaceAll(/\s/g,""))window.location.href=`../../../../../../search_results/${t}`;else{let l=document.getElementById("autocomplete_list_results");if(t&&""!=t.replaceAll(/\s/g,"")){try{let s=await fetch(`../../../../../../api/search_articles/${t}`,get_fetch_settings("GET"));if(s.ok){let a=await s.json();if(l.style.display="flex",l.innerHTML="",a[0].length>0)for(let n=0,r=a[0].length;n<r;n++){let i=a[1][n],c=a[0][n].title,o=a[0][n].link,d=`<div class="searchResult"><img src="https://finbrowser.s3.us-east-2.amazonaws.com/static/${i}"><span>${c}</span><a href="${o}" target="_blank"></a></div>`;l.innerHTML+=d}}else showMessage("Error: Network request failed unexpectedly!","Error")}catch(y){}document.onclick=function(e){"autocomplete_list_results"!==e.target.id&&(l.style.display="none")}}else l.style.display="none"}}),document.querySelector(".searchSelectContainer i").addEventListener("click",()=>{""!=(search_term=document.getElementById("search").value).replaceAll(/\s/g,"")&&(window.location.href=`../../../../../../search_results/${search_term}`)});